TomEE freeze testcase
===================

This is related to the following question, allowing to reproduce the problem:

http://stackoverflow.com/questions/17979259/tomee-chokes-on-too-many-asynchronous-operations


Once calling http://localhost:8080/
this is what I get:

> [http-bio-8080-exec-3] INFO de.incub8.tomeefreezetestcase.SignalStore - Signal created, firing event.
> [http-bio-8080-exec-3] INFO de.incub8.tomeefreezetestcase.SignalEndpoint - i = 1
> [http-bio-8080-exec-3] INFO de.incub8.tomeefreezetestcase.SignalStore - Signal created, firing event.
> [http-bio-8080-exec-3] INFO de.incub8.tomeefreezetestcase.SignalEndpoint - i = 2
> [http-bio-8080-exec-3] INFO de.incub8.tomeefreezetestcase.SignalStore - Signal created, firing event.
> [http-bio-8080-exec-3] INFO de.incub8.tomeefreezetestcase.SignalEndpoint - i = 3
> [http-bio-8080-exec-3] INFO de.incub8.tomeefreezetestcase.SignalStore - Signal created, firing event.
> [http-bio-8080-exec-3] INFO de.incub8.tomeefreezetestcase.SignalEndpoint - i = 4
> [http-bio-8080-exec-3] INFO de.incub8.tomeefreezetestcase.SignalStore - Signal created, firing event.
> [http-bio-8080-exec-3] INFO de.incub8.tomeefreezetestcase.SignalEndpoint - i = 5
> [http-bio-8080-exec-3] INFO de.incub8.tomeefreezetestcase.SignalStore - Signal created, firing event.
> [http-bio-8080-exec-3] INFO de.incub8.tomeefreezetestcase.SignalEndpoint - i = 6
> [http-bio-8080-exec-3] INFO de.incub8.tomeefreezetestcase.SignalStore - Signal created, firing event.
> [@Asynchronous tomeefreezetestcase - 2] INFO de.incub8.tomeefreezetestcase.DerivedDataCreator - Reacting to signal entity created event.
> [@Asynchronous tomeefreezetestcase - 1] INFO de.incub8.tomeefreezetestcase.DerivedDataCreator - Reacting to signal entity created event.
> [@Asynchronous tomeefreezetestcase - 3] INFO de.incub8.tomeefreezetestcase.DerivedDataCreator - Reacting to signal entity created event.
> [@Asynchronous tomeefreezetestcase - 2] INFO de.incub8.tomeefreezetestcase.DerivedDataCreator - Created derived data entity, firing event.
> [@Asynchronous tomeefreezetestcase - 3] INFO de.incub8.tomeefreezetestcase.DerivedDataCreator - Created derived data entity, firing event.
> [@Asynchronous tomeefreezetestcase - 1] INFO de.incub8.tomeefreezetestcase.DerivedDataCreator - Created derived data entity, firing event.
> Aug 01, 2013 9:23:02 PM org.apache.cxf.phase.PhaseInterceptorChain doDefaultLogging
> WARNING: Application {http://tomeefreezetestcase.incub8.de/}SignalEndpoint has thrown exception, unwinding now
> org.apache.cxf.interceptor.Fault: fail to allocate internal resource to execute the target task while invoking public void de.incub8.tomeefreezetestcase.SignalEndpoint.testCaseCreateLotsOfSignals() with params [].
> 	at org.apache.cxf.service.invoker.AbstractInvoker.createFault(AbstractInvoker.java:166)
> 	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:140)
> 	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:167)
> 	at org.apache.openejb.server.cxf.rs.OpenEJBEJBInvoker.invoke(OpenEJBEJBInvoker.java:47)
> 	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:94)
> 	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58)
> 	at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:94)
> 	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:262)
> 	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)
> 	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:236)
> 	at org.apache.openejb.server.cxf.rs.CxfRsHttpListener.onMessage(CxfRsHttpListener.java:79)
> 	at org.apache.openejb.server.rest.RsServlet.service(RsServlet.java:53)
> 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
> 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
> 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
> 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
> 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
> 	at org.apache.tomee.catalina.OpenEJBValve.invoke(OpenEJBValve.java:45)
> 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
> 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
> 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
> 	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
> 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
> 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
> 	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
> 	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
> 	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
> 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
> 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
> 	at java.lang.Thread.run(Thread.java:722)
> Caused by: javax.ejb.EJBException: fail to allocate internal resource to execute the target task
> 	at org.apache.openejb.async.AsynchronousPool.invoke(AsynchronousPool.java:64)
> 	at org.apache.openejb.core.ivm.EjbObjectProxyHandler.businessMethod(EjbObjectProxyHandler.java:234)
> 	at org.apache.openejb.core.ivm.EjbObjectProxyHandler._invoke(EjbObjectProxyHandler.java:83)
> 	at org.apache.openejb.core.ivm.BaseEjbProxyHandler.invoke(BaseEjbProxyHandler.java:279)
> 	at de.incub8.tomeefreezetestcase.EventDispatcher$LocalBeanProxy.fire(de/incub8/tomeefreezetestcase/EventDispatcher.java)
> 	at de.incub8.tomeefreezetestcase.SignalStore.createSignal(SignalStore.java:28)
> 	at de.incub8.tomeefreezetestcase.SignalEndpoint.testCaseCreateLotsOfSignals(SignalEndpoint.java:32)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
> 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
> 	at java.lang.reflect.Method.invoke(Method.java:601)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:181)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:163)
> 	at org.apache.openejb.cdi.CdiInterceptor.invoke(CdiInterceptor.java:126)
> 	at org.apache.openejb.cdi.CdiInterceptor.access$000(CdiInterceptor.java:42)
> 	at org.apache.openejb.cdi.CdiInterceptor$1.call(CdiInterceptor.java:63)
> 	at org.apache.openejb.cdi.CdiInterceptor.aroundInvoke(CdiInterceptor.java:69)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
> 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
> 	at java.lang.reflect.Method.invoke(Method.java:601)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:181)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:163)
> 	at org.apache.openejb.monitoring.StatsInterceptor.record(StatsInterceptor.java:176)
> 	at org.apache.openejb.monitoring.StatsInterceptor.invoke(StatsInterceptor.java:95)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
> 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
> 	at java.lang.reflect.Method.invoke(Method.java:601)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:181)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:163)
> 	at org.apache.openejb.core.interceptor.InterceptorStack.invoke(InterceptorStack.java:138)
> 	at org.apache.openejb.core.stateless.StatelessContainer._invoke(StatelessContainer.java:239)
> 	at org.apache.openejb.core.stateless.StatelessContainer.invoke(StatelessContainer.java:191)
> 	at org.apache.openejb.util.proxy.ProxyEJB$Handler.invoke(ProxyEJB.java:73)
> 	at de.incub8.tomeefreezetestcase.SignalEndpoint$LocalBeanProxy.testCaseCreateLotsOfSignals(de/incub8/tomeefreezetestcase/SignalEndpoint.java)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
> 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
> 	at java.lang.reflect.Method.invoke(Method.java:601)
> 	at org.apache.openejb.server.cxf.rs.OpenEJBEJBInvoker.performInvocation(OpenEJBEJBInvoker.java:71)
> 	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)
> 	... 28 more
> Caused by: java.util.concurrent.RejectedExecutionException: Timeout waiting for executor slot: waited 30 seconds
> 	at org.apache.openejb.util.executor.OfferRejectedExecutionHandler.rejectedExecution(OfferRejectedExecutionHandler.java:55)
> 	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:821)
> 	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1372)
> 	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:132)
> 	at org.apache.openejb.async.AsynchronousPool.invoke(AsynchronousPool.java:58)
> 	... 69 more
> 
> Aug 01, 2013 9:23:02 PM org.apache.cxf.phase.PhaseInterceptorChain unwind
> WARNING: Exception in handleFault on interceptor org.apache.cxf.binding.xml.interceptor.XMLFaultOutInterceptor@71a95b43
> org.apache.cxf.interceptor.Fault: fail to allocate internal resource to execute the target task while invoking public void de.incub8.tomeefreezetestcase.SignalEndpoint.testCaseCreateLotsOfSignals() with params [].
> 	at org.apache.cxf.service.invoker.AbstractInvoker.createFault(AbstractInvoker.java:166)
> 	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:140)
> 	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:167)
> 	at org.apache.openejb.server.cxf.rs.OpenEJBEJBInvoker.invoke(OpenEJBEJBInvoker.java:47)
> 	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:94)
> 	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58)
> 	at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:94)
> 	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:262)
> 	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)
> 	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:236)
> 	at org.apache.openejb.server.cxf.rs.CxfRsHttpListener.onMessage(CxfRsHttpListener.java:79)
> 	at org.apache.openejb.server.rest.RsServlet.service(RsServlet.java:53)
> 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
> 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
> 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
> 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
> 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
> 	at org.apache.tomee.catalina.OpenEJBValve.invoke(OpenEJBValve.java:45)
> 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
> 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
> 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
> 	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
> 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
> 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
> 	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
> 	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
> 	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
> 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
> 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
> 	at java.lang.Thread.run(Thread.java:722)
> Caused by: javax.ejb.EJBException: fail to allocate internal resource to execute the target task
> 	at org.apache.openejb.async.AsynchronousPool.invoke(AsynchronousPool.java:64)
> 	at org.apache.openejb.core.ivm.EjbObjectProxyHandler.businessMethod(EjbObjectProxyHandler.java:234)
> 	at org.apache.openejb.core.ivm.EjbObjectProxyHandler._invoke(EjbObjectProxyHandler.java:83)
> 	at org.apache.openejb.core.ivm.BaseEjbProxyHandler.invoke(BaseEjbProxyHandler.java:279)
> 	at de.incub8.tomeefreezetestcase.EventDispatcher$LocalBeanProxy.fire(de/incub8/tomeefreezetestcase/EventDispatcher.java)
> 	at de.incub8.tomeefreezetestcase.SignalStore.createSignal(SignalStore.java:28)
> 	at de.incub8.tomeefreezetestcase.SignalEndpoint.testCaseCreateLotsOfSignals(SignalEndpoint.java:32)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
> 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
> 	at java.lang.reflect.Method.invoke(Method.java:601)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:181)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:163)
> 	at org.apache.openejb.cdi.CdiInterceptor.invoke(CdiInterceptor.java:126)
> 	at org.apache.openejb.cdi.CdiInterceptor.access$000(CdiInterceptor.java:42)
> 	at org.apache.openejb.cdi.CdiInterceptor$1.call(CdiInterceptor.java:63)
> 	at org.apache.openejb.cdi.CdiInterceptor.aroundInvoke(CdiInterceptor.java:69)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
> 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
> 	at java.lang.reflect.Method.invoke(Method.java:601)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:181)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:163)
> 	at org.apache.openejb.monitoring.StatsInterceptor.record(StatsInterceptor.java:176)
> 	at org.apache.openejb.monitoring.StatsInterceptor.invoke(StatsInterceptor.java:95)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
> 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
> 	at java.lang.reflect.Method.invoke(Method.java:601)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:181)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:163)
> 	at org.apache.openejb.core.interceptor.InterceptorStack.invoke(InterceptorStack.java:138)
> 	at org.apache.openejb.core.stateless.StatelessContainer._invoke(StatelessContainer.java:239)
> 	at org.apache.openejb.core.stateless.StatelessContainer.invoke(StatelessContainer.java:191)
> 	at org.apache.openejb.util.proxy.ProxyEJB$Handler.invoke(ProxyEJB.java:73)
> 	at de.incub8.tomeefreezetestcase.SignalEndpoint$LocalBeanProxy.testCaseCreateLotsOfSignals(de/incub8/tomeefreezetestcase/SignalEndpoint.java)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
> 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
> 	at java.lang.reflect.Method.invoke(Method.java:601)
> 	at org.apache.openejb.server.cxf.rs.OpenEJBEJBInvoker.performInvocation(OpenEJBEJBInvoker.java:71)
> 	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)
> 	... 28 more
> Caused by: java.util.concurrent.RejectedExecutionException: Timeout waiting for executor slot: waited 30 seconds
> 	at org.apache.openejb.util.executor.OfferRejectedExecutionHandler.rejectedExecution(OfferRejectedExecutionHandler.java:55)
> 	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:821)
> 	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1372)
> 	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:132)
> 	at org.apache.openejb.async.AsynchronousPool.invoke(AsynchronousPool.java:58)
> 	... 69 more
> 
> Aug 01, 2013 9:23:02 PM org.apache.cxf.interceptor.AbstractFaultChainInitiatorObserver onMessage
> SEVERE: Error occurred during error handling, give up!
> org.apache.cxf.interceptor.Fault: fail to allocate internal resource to execute the target task while invoking public void de.incub8.tomeefreezetestcase.SignalEndpoint.testCaseCreateLotsOfSignals() with params [].
> 	at org.apache.cxf.service.invoker.AbstractInvoker.createFault(AbstractInvoker.java:166)
> 	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:140)
> 	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:167)
> 	at org.apache.openejb.server.cxf.rs.OpenEJBEJBInvoker.invoke(OpenEJBEJBInvoker.java:47)
> 	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:94)
> 	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58)
> 	at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:94)
> 	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:262)
> 	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)
> 	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:236)
> 	at org.apache.openejb.server.cxf.rs.CxfRsHttpListener.onMessage(CxfRsHttpListener.java:79)
> 	at org.apache.openejb.server.rest.RsServlet.service(RsServlet.java:53)
> 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
> 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
> 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
> 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
> 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
> 	at org.apache.tomee.catalina.OpenEJBValve.invoke(OpenEJBValve.java:45)
> 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
> 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
> 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
> 	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
> 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
> 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
> 	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
> 	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
> 	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
> 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
> 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
> 	at java.lang.Thread.run(Thread.java:722)
> Caused by: javax.ejb.EJBException: fail to allocate internal resource to execute the target task
> 	at org.apache.openejb.async.AsynchronousPool.invoke(AsynchronousPool.java:64)
> 	at org.apache.openejb.core.ivm.EjbObjectProxyHandler.businessMethod(EjbObjectProxyHandler.java:234)
> 	at org.apache.openejb.core.ivm.EjbObjectProxyHandler._invoke(EjbObjectProxyHandler.java:83)
> 	at org.apache.openejb.core.ivm.BaseEjbProxyHandler.invoke(BaseEjbProxyHandler.java:279)
> 	at de.incub8.tomeefreezetestcase.EventDispatcher$LocalBeanProxy.fire(de/incub8/tomeefreezetestcase/EventDispatcher.java)
> 	at de.incub8.tomeefreezetestcase.SignalStore.createSignal(SignalStore.java:28)
> 	at de.incub8.tomeefreezetestcase.SignalEndpoint.testCaseCreateLotsOfSignals(SignalEndpoint.java:32)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
> 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
> 	at java.lang.reflect.Method.invoke(Method.java:601)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:181)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:163)
> 	at org.apache.openejb.cdi.CdiInterceptor.invoke(CdiInterceptor.java:126)
> 	at org.apache.openejb.cdi.CdiInterceptor.access$000(CdiInterceptor.java:42)
> 	at org.apache.openejb.cdi.CdiInterceptor$1.call(CdiInterceptor.java:63)
> 	at org.apache.openejb.cdi.CdiInterceptor.aroundInvoke(CdiInterceptor.java:69)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
> 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
> 	at java.lang.reflect.Method.invoke(Method.java:601)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:181)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:163)
> 	at org.apache.openejb.monitoring.StatsInterceptor.record(StatsInterceptor.java:176)
> 	at org.apache.openejb.monitoring.StatsInterceptor.invoke(StatsInterceptor.java:95)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
> 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
> 	at java.lang.reflect.Method.invoke(Method.java:601)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:181)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:163)
> 	at org.apache.openejb.core.interceptor.InterceptorStack.invoke(InterceptorStack.java:138)
> 	at org.apache.openejb.core.stateless.StatelessContainer._invoke(StatelessContainer.java:239)
> 	at org.apache.openejb.core.stateless.StatelessContainer.invoke(StatelessContainer.java:191)
> 	at org.apache.openejb.util.proxy.ProxyEJB$Handler.invoke(ProxyEJB.java:73)
> 	at de.incub8.tomeefreezetestcase.SignalEndpoint$LocalBeanProxy.testCaseCreateLotsOfSignals(de/incub8/tomeefreezetestcase/SignalEndpoint.java)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
> 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
> 	at java.lang.reflect.Method.invoke(Method.java:601)
> 	at org.apache.openejb.server.cxf.rs.OpenEJBEJBInvoker.performInvocation(OpenEJBEJBInvoker.java:71)
> 	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)
> 	... 28 more
> Caused by: java.util.concurrent.RejectedExecutionException: Timeout waiting for executor slot: waited 30 seconds
> 	at org.apache.openejb.util.executor.OfferRejectedExecutionHandler.rejectedExecution(OfferRejectedExecutionHandler.java:55)
> 	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:821)
> 	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1372)
> 	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:132)
> 	at org.apache.openejb.async.AsynchronousPool.invoke(AsynchronousPool.java:58)
> 	... 69 more
> 
> Aug 01, 2013 9:23:02 PM org.apache.catalina.core.StandardWrapperValve invoke
> SEVERE: Servlet.service() for servlet [rest_514138223] in context with path [/tomeefreezetestcase] threw exception [Error processing webservice request] with root cause
> java.util.concurrent.RejectedExecutionException: Timeout waiting for executor slot: waited 30 seconds
> 	at org.apache.openejb.util.executor.OfferRejectedExecutionHandler.rejectedExecution(OfferRejectedExecutionHandler.java:55)
> 	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:821)
> 	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1372)
> 	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:132)
> 	at org.apache.openejb.async.AsynchronousPool.invoke(AsynchronousPool.java:58)
> 	at org.apache.openejb.core.ivm.EjbObjectProxyHandler.businessMethod(EjbObjectProxyHandler.java:234)
> 	at org.apache.openejb.core.ivm.EjbObjectProxyHandler._invoke(EjbObjectProxyHandler.java:83)
> 	at org.apache.openejb.core.ivm.BaseEjbProxyHandler.invoke(BaseEjbProxyHandler.java:279)
> 	at de.incub8.tomeefreezetestcase.EventDispatcher$LocalBeanProxy.fire(de/incub8/tomeefreezetestcase/EventDispatcher.java)
> 	at de.incub8.tomeefreezetestcase.SignalStore.createSignal(SignalStore.java:28)
> 	at de.incub8.tomeefreezetestcase.SignalEndpoint.testCaseCreateLotsOfSignals(SignalEndpoint.java:32)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
> 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
> 	at java.lang.reflect.Method.invoke(Method.java:601)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:181)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:163)
> 	at org.apache.openejb.cdi.CdiInterceptor.invoke(CdiInterceptor.java:126)
> 	at org.apache.openejb.cdi.CdiInterceptor.access$000(CdiInterceptor.java:42)
> 	at org.apache.openejb.cdi.CdiInterceptor$1.call(CdiInterceptor.java:63)
> 	at org.apache.openejb.cdi.CdiInterceptor.aroundInvoke(CdiInterceptor.java:69)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
> 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
> 	at java.lang.reflect.Method.invoke(Method.java:601)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:181)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:163)
> 	at org.apache.openejb.monitoring.StatsInterceptor.record(StatsInterceptor.java:176)
> 	at org.apache.openejb.monitoring.StatsInterceptor.invoke(StatsInterceptor.java:95)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
> 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
> 	at java.lang.reflect.Method.invoke(Method.java:601)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:181)
> 	at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:163)
> 	at org.apache.openejb.core.interceptor.InterceptorStack.invoke(InterceptorStack.java:138)
> 	at org.apache.openejb.core.stateless.StatelessContainer._invoke(StatelessContainer.java:239)
> 	at org.apache.openejb.core.stateless.StatelessContainer.invoke(StatelessContainer.java:191)
> 	at org.apache.openejb.util.proxy.ProxyEJB$Handler.invoke(ProxyEJB.java:73)
> 	at de.incub8.tomeefreezetestcase.SignalEndpoint$LocalBeanProxy.testCaseCreateLotsOfSignals(de/incub8/tomeefreezetestcase/SignalEndpoint.java)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
> 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
> 	at java.lang.reflect.Method.invoke(Method.java:601)
> 	at org.apache.openejb.server.cxf.rs.OpenEJBEJBInvoker.performInvocation(OpenEJBEJBInvoker.java:71)
> 	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)
> 	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:167)
> 	at org.apache.openejb.server.cxf.rs.OpenEJBEJBInvoker.invoke(OpenEJBEJBInvoker.java:47)
> 	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:94)
> 	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58)
> 	at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:94)
> 	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:262)
> 	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)
> 	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:236)
> 	at org.apache.openejb.server.cxf.rs.CxfRsHttpListener.onMessage(CxfRsHttpListener.java:79)
> 	at org.apache.openejb.server.rest.RsServlet.service(RsServlet.java:53)
> 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
> 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
> 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
> 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
> 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
> 	at org.apache.tomee.catalina.OpenEJBValve.invoke(OpenEJBValve.java:45)
> 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
> 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
> 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
> 	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
> 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
> 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
> 	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
> 	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
> 	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
> 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
> 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
> 	at java.lang.Thread.run(Thread.java:722)
> 
> [@Asynchronous tomeefreezetestcase - 1] INFO de.incub8.tomeefreezetestcase.CopyOfDerivedDataCreator - Reacting to derived data entity created event.
> [@Asynchronous tomeefreezetestcase - 3] INFO de.incub8.tomeefreezetestcase.CopyOfDerivedDataCreator - Reacting to derived data entity created event.
> [@Asynchronous tomeefreezetestcase - 2] INFO de.incub8.tomeefreezetestcase.CopyOfDerivedDataCreator - Reacting to derived data entity created event.
> 